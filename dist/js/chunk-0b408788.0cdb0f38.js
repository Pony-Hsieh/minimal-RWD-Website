(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b408788"],{"17f6":function(t,a,s){"use strict";s("f5dd")},8651:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container-fluid p-0 wrapper"},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("div",{staticClass:"loadingio-spinner-eclipse-qd52l2xe1a"},[s("div",{staticClass:"ldio-zf9gth3n7r"},[s("div")])])]),s("HeaderComponent"),s("div",{staticClass:"container orderData"},[s("h1",{staticClass:"h3 text-center"},[t._v("\n            訂單資訊\n        ")]),s("div",{staticClass:"simpleInfo"},[t.orderData.is_paid?s("h3",{staticClass:"text-center"},[t._v("\n                您已成功訂購商品並付清款項\n                "),s("br"),s("br"),t._v("\n                訂單相關訊息(包含出貨通知)將會發送至"),s("br"),s("span",{staticClass:"text-white"},[t._v(t._s(t.orderData.user.email))]),s("br"),t._v("\n                再麻煩您留意，謝謝~\n                "),s("br"),s("br"),t._v("\n                購買商品明細如下：\n            ")]):t._e(),t.orderData.is_paid?t._e():s("h3",{staticClass:"text-center"},[t._v("\n                您已成功訂購商品\n                "),s("br"),s("br"),t._v("\n                但您尚未付款，故尚未安排出貨"),s("br"),t.orderData.is_paid?t._e():s("button",{staticClass:"btn btn-sm btn-primary mt-2",on:{click:function(a){return a.preventDefault(),t.payOrder(t.orderData.id)}}},[t._v("\n                    點此付款\n                ")]),s("br"),s("br"),t._v("\n                訂購商品明細如下：\n            ")])]),s("div",{staticClass:"row my-3"},[t._m(0),s("div",{staticClass:"col-8"},[s("p",{staticStyle:{"word-break":"break-all"}},[t._v("\n                    "+t._s(t.orderData.id)+"\n                ")])])]),s("div",{staticClass:"row my-3"},[t._m(1),s("div",{staticClass:"col-8"},[s("p",{staticClass:"text-right"},[t._v("\n                    "+t._s(t._f("formatTime")(t.orderData.create_at))+"\n                ")])])]),s("div",{staticClass:"row my-3 orderProduct"},[t._m(2),s("div",{staticClass:"col-8"},t._l(t.orderData.products,(function(a,e){return s("div",{key:e,staticClass:"my-4"},[s("h4",[t._v("商品名稱："+t._s(a.product.title))]),s("img",{attrs:{src:a.product.imageUrl,alt:a.product.title+" 商品圖片"}}),s("h4",{staticClass:"mt-2"},[t._v("\n                        購買數量："+t._s(a.qty)+"\n                    ")]),s("h4",[t._v("小計："+t._s(t._f("currency")(a.final_total)))])])})),0)]),s("div",{staticClass:"row my-3"},[t._m(3),s("div",{staticClass:"col-8"},[s("p",[t._v(t._s(t._f("currency")(t.orderData.total)))])])]),s("div",{staticClass:"row my-3 is_paid"},[t._m(4),s("div",{staticClass:"col-8 d-flex justify-content-center align-items-center"},[t.orderData.is_paid?s("p",{staticClass:"m-0 text-success"},[t._v("\n                    已付\n                ")]):t._e(),t.orderData.is_paid?t._e():s("p",{staticClass:"m-0 text-danger"},[t._v("\n                    未付\n                ")]),t.orderData.is_paid?t._e():s("button",{staticClass:"btn btn-sm btn-primary ml-3",on:{click:function(a){return a.preventDefault(),t.payOrder(t.orderData.id)}}},[t._v("\n                    點此付款\n                ")])])]),s("div",{staticClass:"row my-3 userData"},[t._m(5),s("div",{staticClass:"col-8"},[s("div",[s("h4",[t._v("訂購 email ：")]),s("p",[t._v(t._s(t.orderData.user.email))])]),s("div",[s("h4",[t._v("收件人姓名：")]),s("p",[t._v(t._s(t.orderData.user.name))])]),s("div",[s("h4",[t._v("收件人電話：")]),s("p",[t._v(t._s(t.orderData.user.tel))])]),s("div",[s("h4",[t._v("收件地址 ：")]),s("p",[t._v(t._s(t.orderData.user.address))])])])]),s("div",{staticClass:"row my-3 userMessage"},[t._m(6),s("div",{staticClass:"col-8"},[s("p",[t._v(t._s(t.orderData.message))])])])]),s("div",{staticClass:"continueShopping"},[t._v("\n        前往商城 →  "),s("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:"/shop"}},[t._v("\n            GO GO GO！！！\n        ")])],1),s("FooterComponent")],1)},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-4"},[s("h3",[t._v("訂單 id")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-4"},[s("h3",[t._v("訂購時間")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-4"},[s("h3",[t._v("訂購商品")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-4"},[s("h3",[t._v("訂單金額")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-4"},[s("h3",[t._v("付款狀態")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-4"},[s("h3",[t._v("訂購資訊")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-4"},[s("h3",[t._v("訂單留言")])])}],i=s("f983"),n=s("e741"),c={name:"SingleOrder",components:{HeaderComponent:i["a"],FooterComponent:n["a"]},data:function(){return{orderId:"",orderData:{},isLoading:!1}},created:function(){this.judgeOrderByRouterParam(),this.getOrderData()},methods:{judgeOrderByRouterParam:function(){this.orderId=this.$route.query.orderId},getOrderData:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("reborn","/order/").concat(t.orderId);t.isLoading=!0,t.$http.get(a).then((function(a){a.data.success&&(t.orderData=a.data.order,t.isLoading=!1)}))},payOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("reborn","/pay/").concat(t.orderId);t.isLoading=!0,t.$http.post(a).then((function(a){a.data.success&&(t.$alertMsg_Bus.$emit("alertMsgEvent","付款成功！"),t.getOrderData(),document.body.scrollTop=document.documentElement.scrollTop=0,t.isLoading=!1)}))}}},o=c,d=(s("17f6"),s("2877")),l=Object(d["a"])(o,e,r,!1,null,"54907c0e",null);a["default"]=l.exports},f5dd:function(t,a,s){}}]);
//# sourceMappingURL=chunk-0b408788.0cdb0f38.js.map