(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42f2763a"],{"199e":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("div",{staticClass:"loadingio-spinner-eclipse-qd52l2xe1a"},[e("div",{staticClass:"ldio-zf9gth3n7r"},[e("div")])])]),e("AlertMsg"),e("HeaderComponent"),e("h2",{staticClass:"text-center mt-4"},[t._v("\n    檢視訂單\n  ")]),e("div",{staticClass:"container"},[0==t.rawData.length?e("p",{staticClass:"h5 text-center my-5"},[t._v("\n      目前沒有訂單喔~\n    ")]):t._e(),0!=t.rawData.length?e("table",{staticClass:"table table-bordered table-striped table-responsive-xl mt-4 mw-100"},[t._m(0),e("tbody",t._l(t.rawData,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"align-middle",staticStyle:{"word-break":"break-all"}},[t._v("\n            "+t._s(a.id)+"\n          ")]),e("td",{staticClass:"text-center align-middle",staticStyle:{"word-break":"keep-all"}},[t._v("\n            "+t._s(t._f("formatTime")(a.create_at))+"\n          ")]),e("td",{staticClass:"text-center align-middle"},[a.is_paid?e("span",{staticClass:"text-success"},[t._v("已付")]):t._e(),a.is_paid?t._e():e("span",{staticClass:"text-danger"},[t._v("未付")]),a.is_paid?t._e():e("button",{staticClass:"btn btn-sm btn-primary mt-1",on:{click:function(e){return t.payOrder(a.id)}}},[t._v("\n              付款\n            ")])]),e("td",{staticClass:"align-middle"},t._l(a.products,(function(a,s){return e("div",{key:s,staticClass:"d-flex flex-column justify-content-center align-items-center py-2"},[e("div",{staticClass:"d-flex justify-content-center align-items-center"},[e("div",[e("img",{attrs:{src:a.product.imageUrl,alt:"item.product.title + ' 商品圖片'"}}),e("div",{staticClass:"text-center mt-1"},[t._v("\n                    "+t._s(a.product.title)+"\n                  ")])]),e("div",{staticClass:"ml-3"},[t._v("\n                  數量： "+t._s(a.qty)+"\n                ")])])])})),0),e("td",{staticClass:"text-center align-middle"},[t._v("\n            "+t._s(t._f("currency")(a.total))+"\n          ")]),e("td",{staticStyle:{"max-width":"20%","word-break":"break-all"}},[t._v("\n            "+t._s(a.message)+"\n          ")]),e("td",{staticClass:"align-middle"},[t._v("\n            訂購 email：\n            "),e("br"),t._v("\n            "+t._s(a.user.email)+"\n            "),e("br"),e("br"),t._v("\n            收件人地址：\n            "),e("br"),t._v("\n            "+t._s(a.user.address)+"\n            "),e("br"),e("br"),t._v("\n            收件人姓名：\n            "),e("br"),t._v("\n            "+t._s(a.user.name)+"\n            "),e("br"),e("br"),t._v("\n            收件人電話：\n            "),e("br"),t._v("\n            "+t._s(a.user.tel)+"\n          ")])])})),0)]):t._e(),0!=t.rawData.length?e("nav",{staticClass:"mt-5 mb-4",attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[t._m(1)]),t._l(t.pagination.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pagination.current_page===a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getOrders(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[t._m(2)])],2)]):t._e()]),e("FooterComponent")],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"thead-dark"},[e("tr",[e("th",{staticClass:"text-center align-middle",attrs:{width:"80px"}},[t._v("\n            訂單 id\n          ")]),e("th",{staticClass:"text-center align-middle",attrs:{width:"100px"}},[t._v("\n            下單時間\n          ")]),e("th",{staticClass:"text-center align-middle",attrs:{width:"100px"}},[t._v("\n            付款狀態\n          ")]),e("th",{staticClass:"text-center align-middle",attrs:{width:"250px"}},[t._v("\n            購買商品\n          ")]),e("th",{staticClass:"text-center align-middle",attrs:{width:"120px"}},[t._v("\n            訂單金額\n          ")]),e("th",{staticClass:"text-center align-middle",attrs:{width:"20%"}},[t._v("\n            訂單留言\n          ")]),e("th",{staticClass:"text-center align-middle",attrs:{width:"120px"}},[t._v("\n            收件者資料\n          ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),e("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),e("span",{staticClass:"sr-only"},[t._v("Next")])])}],i=(e("1157"),e("f983")),r=e("e741"),l=e("a0f9"),c={components:{HeaderComponent:i["a"],FooterComponent:r["a"],AlertMsg:l["a"]},data:function(){return{isLoading:!1,rawData:[],pagination:{},tempOrder:{products:{},user:""}}},created:function(){this.getOrders()},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("reborn","/orders?page=").concat(t);a.isLoading=!0,a.$http.get(e).then((function(t){a.rawData=t.data.orders,a.pagination=t.data.pagination,document.body.scrollTop=document.documentElement.scrollTop=0,a.isLoading=!1}))},payOrder:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("reborn","/pay/").concat(t);a.isLoading=!0,a.$http.post(e).then((function(t){t.data.success?(a.$alertMsg_Bus.$emit("alertMsgEvent","付款成功！"),a.getOrders(),a.isLoading=!1):(a.$alertMsg_Bus.$emit("alertMsgEvent","付款失敗QQ<br/><br/>請重新整理頁面後再次付款，謝謝~","danger"),setTimeout((function(){location.reload()}),3e3))}))}}},d=c,o=(e("a88f"),e("2877")),p=Object(o["a"])(d,s,n,!1,null,"d25b0258",null);a["default"]=p.exports},"641f":function(t,a,e){},a88f:function(t,a,e){"use strict";e("641f")}}]);
//# sourceMappingURL=chunk-42f2763a.469862d1.js.map