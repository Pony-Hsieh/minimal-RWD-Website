{"version":3,"sources":["webpack:///./src/views/frontEnd/Login.vue?3105","webpack:///./src/views/frontEnd/Login.vue?39e2","webpack:///src/views/frontEnd/Login.vue","webpack:///./src/views/frontEnd/Login.vue?1757","webpack:///./src/views/frontEnd/Login.vue?bca4"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","$event","preventDefault","_m","signin","directives","name","rawName","value","user","expression","domProps","target","composing","$set","staticRenderFns","component"],"mappings":"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","file":"js/chunk-766b9244.11c96b56.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=693181a0&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('AlertMsg'),_c('HeaderComponent'),_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-md-6 \"},[_c('div',{staticClass:\"newMember\"},[_c('h3',[_vm._v(\"New to our Shop?\")]),_c('p',[_vm._v(\"\\n                            There are advances being made in science and technology everyday, and a good example of\\n                            this\\n                            is the\\n                        \")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(\"CREATE AN ACCOUNT\")])])]),_c('div',{staticClass:\"col-12 col-md-6 oldMember\"},[_vm._m(0),_c('form',{attrs:{\"action\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.signin($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.username),expression:\"user.username\"}],attrs:{\"type\":\"email\",\"placeholder\":\"Username\",\"required\":\"\"},domProps:{\"value\":(_vm.user.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"username\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"Password\",\"required\":\"\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}}),_c('div',[_c('label',{attrs:{\"for\":\"rememberMe\"}},[_vm._v(\"記住我的帳號\")]),_c('input',{attrs:{\"id\":\"rememberMe\",\"type\":\"checkbox\"}}),_c('button',{attrs:{\"type\":\"submit\"}},[_vm._v(\"\\n                                LOG IN\\n                            \")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(\"\\n                                忘記密碼？\\n                            \")])])])])])])]),_c('IgPost'),_c('FooterComponent')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',[_vm._v(\"\\n                        Welcome Back !\\n                        \"),_c('br'),_vm._v(\"\\n                        Please Sign in now\\n                    \")])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <AlertMsg />\r\n\r\n        <HeaderComponent />\r\n\r\n        <div class=\"wrapper\">\r\n            <div class=\"container\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-12 col-md-6 \">\r\n                        <div class=\"newMember\">\r\n                            <h3>New to our Shop?</h3>\r\n                            <p>\r\n                                There are advances being made in science and technology everyday, and a good example of\r\n                                this\r\n                                is the\r\n                            </p>\r\n                            <a href=\"#\" @click.prevent>CREATE AN ACCOUNT</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-12 col-md-6 oldMember\">\r\n                        <h3>\r\n                            Welcome Back !\r\n                            <br>\r\n                            Please Sign in now\r\n                        </h3>\r\n                        <form action=\"\" @submit.prevent=\"signin\">\r\n                            <input v-model=\"user.username\" type=\"email\" placeholder=\"Username\" required>\r\n                            <input v-model=\"user.password\" type=\"password\" placeholder=\"Password\" required>\r\n                            <div>\r\n                                <label for=\"rememberMe\">記住我的帳號</label>\r\n                                <input id=\"rememberMe\" type=\"checkbox\">\r\n                                <button type=\"submit\">\r\n                                    LOG IN\r\n                                </button>\r\n                                <!-- <button @click=\"signin\">LOG IN</button> -->\r\n                                <!-- 在 form 寫了 @submit ，這個 button 就不用再綁一次事件了，如果再綁一次，就會觸發兩次事件  -->\r\n                                <a href=\"#\" @click.prevent>\r\n                                    忘記密碼？\r\n                                </a>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <IgPost />\r\n        <FooterComponent />\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n    import axios from \"axios\";\r\n    // 引入 axios 套件 // 為了依據使用者的登入狀態判定要導至登入或登出頁面 \r\n    // 因為判斷時，Vue 實體尚未建立，因此無法使用 Vue Axios，故需搭配 axios 作為輔助使用\r\n\r\n    import HeaderComponent from \"@/components/HeaderComponent.vue\";\r\n    import IgPost from \"@/components/IgPost.vue\";\r\n    import FooterComponent from \"@/components/FooterComponent.vue\";\r\n    import AlertMsg from \"@/components/AlertMsg.vue\";\r\n\r\n    export default {\r\n\r\n        name: \"Login\",\r\n\r\n\r\n        components: {\r\n            HeaderComponent,\r\n            IgPost,\r\n            FooterComponent,\r\n            AlertMsg,\r\n        },\r\n\r\n\r\n        data() {\r\n            return {\r\n                user: {\r\n                    username: \"\",\r\n                    password: \"\",\r\n                },\r\n            };\r\n        },\r\n\r\n        \r\n        created() {\r\n            document.body.scrollTop = document.documentElement.scrollTop = 0; // 回到頁面頂部\r\n        },\r\n\r\n        \r\n        methods: {\r\n\r\n            // 登入\r\n            signin() {\r\n                const vm = this;\r\n                const api = `${process.env.VUE_APP_APIPATH}/signin`;\r\n                vm.$http.post(api, vm.user).then((response) => {\r\n\r\n                    if (response.data.success) { // 如果登入成功，就做大括號內的事情\r\n                        const token = response.data.token;\r\n                        const expired = response.data.expired;\r\n\r\n                        // 將 cookie 存入的方法\r\n                        document.cookie = `hexToken=${token};expires=${new Date(expired)};`; // 這行如果有空行的話，可能會導致無法成功將cookie存入瀏覽器\r\n\r\n                        vm.$alertMsg_Bus.$emit(\"alertMsgEvent\", \"登入成功！<br/>將前往首頁\");\r\n                        setTimeout(() => {\r\n                            vm.$router.push(\"/\");\r\n                        }, 3000);\r\n                    }\r\n\r\n                    else {\r\n                        vm.$alertMsg_Bus.$emit(\"alertMsgEvent\", \"登入失敗QQ，請稍後再嘗試一次\", \"danger\");\r\n                        setTimeout(() => {\r\n                            location.reload(); // 強制幫用戶重新載入頁面\r\n                        }, 3000);\r\n                    }\r\n                });\r\n            },\r\n        },\r\n\r\n\r\n        // 組件內的導航守衛\r\n        beforeRouteEnter(to, from, next) {\r\n            // 進到這個頁面前先驗證，\r\n            // 如果是 登入 狀態，則轉至登出頁面\r\n            // 如果是 登出 狀態，則轉至登入頁面\r\n            const api = `${process.env.VUE_APP_APIPATH}/api/user/check`;\r\n            axios.post(api).then((response) => {\r\n                if (response.data.success) { // 代表使用者為登入狀態\r\n                    next({ path: \"/member/logout\" });\r\n                    // 這樣寫也可以\r\n                    // next({ name: \"logout\" });\r\n                }\r\n                else {\r\n                    next();\r\n                    // 原定前往(to)路徑為 \"/login\" ，故直接寫 next(); 即可\r\n                }\r\n            });\r\n        },\r\n\r\n    }\r\n</script>\r\n\r\n\r\n<style scoped lang=\"scss\">\r\n    @import \"@/assets/scss/frontEnd/login.scss\";\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=693181a0&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=693181a0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"693181a0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}